<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Medical Quiz Game - Krishay & Sibi</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', sans-serif; }
  body { background:#ffffff; color:#1c1c1e; scroll-behavior:smooth; }

  section { width:100%; display:flex; justify-content:center; align-items:center; flex-direction:column; text-align:center; }

  /* Hero */
  #hero {
    height:100vh;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    background:#ffffff; text-align:center; padding:2rem;
  }
  #hero h1 { font-size:3rem; font-weight:700; margin-bottom:1rem; }
  #hero p { font-size:1.5rem; margin-bottom:2rem; opacity:0.8; }
  #startButton { padding:1rem 2rem; font-size:1.1rem; border-radius:12px; border:none; background:#1c1c1e; color:white; cursor:pointer; font-weight:600; transition:0.3s; }
  #startButton:hover { background:#333; transform:scale(1.05); }

  /* Game */
  #gameSection { min-height:100vh; background:#f5f5f7; padding:4rem 2rem; display:flex; flex-direction:column; align-items:center; gap:2rem; }
  #gameTitle { font-size:2rem; margin-bottom:1rem; }
  #scoreTimer { display:flex; gap:2rem; font-weight:600; font-size:1.2rem; margin-bottom:1rem; }
  #gameArea { width:80vw; height:60vh; border:3px solid #1c1c1e; border-radius:20px; position:relative; background:#e6e6e6; overflow:hidden; }

  .corner { width:25%; height:25%; position:absolute; display:flex; justify-content:center; align-items:center; text-align:center; font-weight:600; border-radius:12px; cursor:pointer; color:white; font-size:1rem; padding:0.5rem; }
  #topLeft { top:0; left:0; background:#0071e3; }
  #topRight { top:0; right:0; background:#00cfff; }
  #bottomLeft { bottom:0; left:0; background:#00a3cc; }
  #bottomRight { bottom:0; right:0; background:#005bb5; }

  #player { width:40px; height:40px; background:red; border-radius:50%; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); cursor:pointer; }

  #feedback { margin-top:1rem; font-size:1.2rem; font-weight:600; min-height:1.5em; }

</style>
</head>
<body>

<section id="hero">
  <h1>Medical Center</h1>
  <p>Scroll to learn more</p>
  <p>By Krishay & Sibi</p>
  <button id="startButton">Start Game</button>
</section>

<section id="gameSection">
  <div id="gameTitle">Medical Quiz Challenge</div>
  <div id="scoreTimer">
    <div>Score: <span id="score">0</span></div>
    <div>Time: <span id="timer">30</span>s</div>
  </div>
  <div id="gameArea">
    <div id="player"></div>
    <div class="corner" id="topLeft"></div>
    <div class="corner" id="topRight"></div>
    <div class="corner" id="bottomLeft"></div>
    <div class="corner" id="bottomRight"></div>
  </div>
  <div id="feedback"></div>
</section>

<script>
const startButton = document.getElementById('startButton');
const gameSection = document.getElementById('gameSection');
startButton.addEventListener('click', () => { gameSection.scrollIntoView({behavior:'smooth'}); startGame(); });

const player = document.getElementById('player');
const gameArea = document.getElementById('gameArea');
let playerPos = {x:gameArea.clientWidth/2 - 20, y:gameArea.clientHeight/2 - 20};
let isDragging = false;
player.addEventListener('mousedown', () => isDragging = true);
document.addEventListener('mouseup', () => isDragging = false);
document.addEventListener('mousemove', e => {
  if(!isDragging) return;
  const rect = gameArea.getBoundingClientRect();
  let x = e.clientX - rect.left;
  let y = e.clientY - rect.top;
  x = Math.max(0, Math.min(rect.width, x));
  y = Math.max(0, Math.min(rect.height, y));
  player.style.left = x + 'px';
  player.style.top = y + 'px';
  playerPos.x = x;
  playerPos.y = y;
  checkAnswerCollision();
});

// Quiz data
const questions = [
  {q:"Which organ pumps blood throughout the body?", a:["Brain","Heart","Lungs","Kidneys"], correct:1},
  {q:"Which organ exchanges oxygen and carbon dioxide?", a:["Heart","Stomach","Lungs","Liver"], correct:2},
  {q:"Powerhouse of the cell?", a:["Nucleus","Mitochondria","Ribosome","Cell Membrane"], correct:1}
];
let currentQ=0, score=0, time=30, gameInterval;

const corners = [
  document.getElementById('topLeft'),
  document.getElementById('topRight'),
  document.getElementById('bottomLeft'),
  document.getElementById('bottomRight')
];

function showQuestion() {
  const q = questions[currentQ];
  document.getElementById('topLeft').innerText = q.a[0];
  document.getElementById('topRight').innerText = q.a[1];
  document.getElementById('bottomLeft').innerText = q.a[2];
  document.getElementById('bottomRight').innerText = q.a[3];
  document.getElementById('feedback').innerText = '';
  player.style.left = (gameArea.clientWidth/2 - 20) + 'px';
  player.style.top = (gameArea.clientHeight/2 - 20) + 'px';
  playerPos = {x:gameArea.clientWidth/2 - 20, y:gameArea.clientHeight/2 - 20};
}

function startGame() {
  score = 0;
  time = 30;
  document.getElementById('score').innerText = score;
  document.getElementById('timer').innerText = time;
  showQuestion();
  clearInterval(gameInterval);
  gameInterval = setInterval(() => {
    time--;
    document.getElementById('timer').innerText = time;
    if(time<=0){ clearInterval(gameInterval); document.getElementById('feedback').innerText = "Time's up! Final score: "+score;}
  },1000);
}

// Collision detection
function checkAnswerCollision() {
  const q = questions[currentQ];
  const playerCenter = {x:playerPos.x+20, y:playerPos.y+20};
  let selected = null;

  const w = gameArea.clientWidth/2, h = gameArea.clientHeight/2;
  if(playerCenter.x<w && playerCenter.y<h) selected=0;
  else if(playerCenter.x>w && playerCenter.y<h) selected=1;
  else if(playerCenter.x<w && playerCenter.y>h) selected=2;
  else if(playerCenter.x>w && playerCenter.y>h) selected=3;

  if(selected!==null){
    if(selected===q.correct){
      document.getElementById('feedback').innerText = "Correct! ✅";
      score++;
      document.getElementById('score').innerText = score;
      currentQ = (currentQ+1) % questions.length;
      setTimeout(showQuestion,500);
    } else {
      document.getElementById('feedback').innerText = "Wrong! ❌ New question.";
      currentQ = (currentQ+1) % questions.length;
      setTimeout(showQuestion,500);
    }
  }
}
</script>

</body>
</html>
